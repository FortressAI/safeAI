<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API Reference - SafeAI Documentation</title>
  <!-- React and ReactDOM -->
  <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
  <!-- Babel for JSX transpiling -->
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <!-- Material-UI CDN -->
  <script src="https://unpkg.com/@mui/material@5.0.0/umd/material-ui.development.js" crossorigin></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <style>
    body { 
      margin: 0; 
      padding: 0; 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.6;
      background-color: #f5f5f5;
    }
    #root { 
      max-width: 1200px; 
      margin: 0 auto; 
      padding: 2rem;
    }
    .content {
      background-color: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 24px;
      margin-top: 24px;
    }
    .section {
      margin-bottom: 32px;
    }
    .endpoint-card {
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 16px;
      margin: 16px 0;
      transition: transform 0.2s ease-in-out;
    }
    .endpoint-card:hover {
      transform: translateY(-2px);
    }
    .code-block {
      background: #2d2d2d;
      color: #f8f8f2;
      padding: 1rem;
      border-radius: 4px;
      overflow-x: auto;
      font-family: 'Courier New', Courier, monospace;
      margin: 16px 0;
    }
    .method-badge {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 4px;
      font-weight: bold;
      margin-right: 8px;
    }
    .method-get { background-color: #61affe; color: white; }
    .method-post { background-color: #49cc90; color: white; }
    .method-put { background-color: #fca130; color: white; }
    .method-delete { background-color: #f93e3e; color: white; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const MaterialUI = window['MaterialUI'];
    const { 
      Box, Typography, Container, Card, CardContent, AppBar, Toolbar, 
      IconButton, Button, Divider, Paper, List, ListItem, ListItemText,
      ListItemIcon, Icon, Grid, Chip, Tab, Tabs
    } = MaterialUI;

    // Material icon names
    const ICONS = {
      MENU: "menu",
      HOME: "home",
      ARROW_BACK: "arrow_back",
      CHECK: "check",
      CODE: "code",
      SCHEMA: "schema",
      INFO: "info",
      API: "api",
      LOCK: "lock",
      SECURITY: "security",
      DOCS: "description",
      PLAY: "play_arrow",
      DOWNLOAD: "download",
      UPLOAD: "upload",
      SEARCH: "search",
      FILTER: "filter_list",
      SORT: "sort",
      REFRESH: "refresh",
      DELETE: "delete",
      EDIT: "edit",
      ADD: "add",
      REMOVE: "remove",
      SAVE: "save",
      CANCEL: "cancel"
    };

    function APIReference() {
      const [tabValue, setTabValue] = React.useState(0);

      const handleTabChange = (event, newValue) => {
        setTabValue(newValue);
      };

      return (
        <Box>
          <AppBar position="static" sx={{ mb: 4, backgroundColor: "rgba(0,0,0,0.5)" }}>
            <Toolbar>
              <IconButton
                size="large"
                edge="start"
                color="inherit"
                aria-label="menu"
                sx={{ mr: 2 }}
                href="../index.html"
              >
                <Icon>{ICONS.ARROW_BACK}</Icon>
              </IconButton>
              <Typography variant="h6" component="div" sx={{ flexGrow: 1 }}>
                API Reference
              </Typography>
              <Button color="inherit" href="../index.html">
                <Icon sx={{ mr: 1 }}>{ICONS.HOME}</Icon>
                Documentation Home
              </Button>
            </Toolbar>
          </AppBar>
          
          <Container>
            <Typography variant="h4" gutterBottom>
              SafeAI API Reference
            </Typography>
            <Typography variant="subtitle1" color="text.secondary" paragraph>
              Comprehensive documentation of SafeAI's RESTful API endpoints, authentication, and usage examples.
            </Typography>

            <div className="section">
              <Typography variant="h5" gutterBottom>
                Authentication
              </Typography>
              
              <div className="endpoint-card">
                <Typography variant="h6" gutterBottom>
                  <Icon sx={{ mr: 1 }}>{ICONS.LOCK}</Icon>
                  API Authentication
                </Typography>
                <Typography paragraph>
                  All API requests require authentication using an API key:
                </Typography>
                <div className="code-block">
                  Authorization: Bearer YOUR_API_KEY
                </div>
                <Typography paragraph>
                  You can obtain an API key from your SafeAI dashboard:
                </Typography>
                <List>
                  <ListItem>
                    <ListItemIcon>
                      <Icon>{ICONS.CHECK}</Icon>
                    </ListItemIcon>
                    <ListItemText 
                      primary="Dashboard Access"
                      secondary="Navigate to Settings > API Keys"
                    />
                  </ListItem>
                  <ListItem>
                    <ListItemIcon>
                      <Icon>{ICONS.INFO}</Icon>
                    </ListItemIcon>
                    <ListItemText 
                      primary="Key Generation"
                      secondary="Click 'Generate New Key'"
                    />
                  </ListItem>
                  <ListItem>
                    <ListItemIcon>
                      <Icon>{ICONS.SECURITY}</Icon>
                    </ListItemIcon>
                    <ListItemText 
                      primary="Security"
                      secondary="Store your key securely and never share it"
                    />
                  </ListItem>
                </List>
              </div>
            </div>

            <div className="section">
              <Typography variant="h5" gutterBottom>
                Knowledge Graph Endpoints
              </Typography>
              
              <div className="endpoint-card">
                <Typography variant="h6" gutterBottom>
                  <span className="method-badge method-get">GET</span>
                  /api/v1/knowledge-graph
                </Typography>
                <Typography paragraph>
                  Retrieve the current state of the knowledge graph:
                </Typography>
                <div className="code-block">
                  GET /api/v1/knowledge-graph
                  Authorization: Bearer YOUR_API_KEY
                </div>
                <Typography variant="subtitle2" gutterBottom>
                  Response:
                </Typography>
                <div className="code-block">
                  {
                    "nodes": [...],
                    "relationships": [...],
                    "metadata": {
                      "version": "1.0",
                      "lastUpdated": "2024-03-21T12:00:00Z"
                    }
                  }
                </div>
              </div>

              <div className="endpoint-card">
                <Typography variant="h6" gutterBottom>
                  <span className="method-badge method-post">POST</span>
                  /api/v1/knowledge-graph/nodes
                </Typography>
                <Typography paragraph>
                  Add new nodes to the knowledge graph:
                </Typography>
                <div className="code-block">
                  POST /api/v1/knowledge-graph/nodes
                  Authorization: Bearer YOUR_API_KEY
                  Content-Type: application/json

                  {
                    "nodes": [
                      {
                        "id": "node1",
                        "type": "concept",
                        "properties": {
                          "name": "Example Concept",
                          "description": "A sample concept"
                        }
                      }
                    ]
                  }
                </div>
              </div>

              <div className="endpoint-card">
                <Typography variant="h6" gutterBottom>
                  <span className="method-badge method-post">POST</span>
                  /api/v1/knowledge-graph/relationships
                </Typography>
                <Typography paragraph>
                  Create relationships between nodes:
                </Typography>
                <div className="code-block">
                  POST /api/v1/knowledge-graph/relationships
                  Authorization: Bearer YOUR_API_KEY
                  Content-Type: application/json

                  {
                    "relationships": [
                      {
                        "source": "node1",
                        "target": "node2",
                        "type": "RELATES_TO",
                        "properties": {
                          "strength": 0.8
                        }
                      }
                    ]
                  }
                </div>
              </div>
            </div>

            <div className="section">
              <Typography variant="h5" gutterBottom>
                Agent Endpoints
              </Typography>
              
              <div className="endpoint-card">
                <Typography variant="h6" gutterBottom>
                  <span className="method-badge method-get">GET</span>
                  /api/v1/agents
                </Typography>
                <Typography paragraph>
                  List all available agents:
                </Typography>
                <div className="code-block">
                  GET /api/v1/agents
                  Authorization: Bearer YOUR_API_KEY
                </div>
                <Typography variant="subtitle2" gutterBottom>
                  Response:
                </Typography>
                <div className="code-block">
                  {
                    "agents": [
                      {
                        "id": "agent1",
                        "name": "Research Assistant",
                        "capabilities": [...],
                        "status": "active"
                      }
                    ]
                  }
                </div>
              </div>

              <div className="endpoint-card">
                <Typography variant="h6" gutterBottom>
                  <span className="method-badge method-post">POST</span>
                  /api/v1/agents/{agentId}/execute
                </Typography>
                <Typography paragraph>
                  Execute an agent's task:
                </Typography>
                <div className="code-block">
                  POST /api/v1/agents/agent1/execute
                  Authorization: Bearer YOUR_API_KEY
                  Content-Type: application/json

                  {
                    "task": "Research quantum computing",
                    "parameters": {
                      "depth": "comprehensive",
                      "format": "summary"
                    }
                  }
                </div>
              </div>
            </div>

            <div className="section">
              <Typography variant="h5" gutterBottom>
                Query Endpoints
              </Typography>
              
              <div className="endpoint-card">
                <Typography variant="h6" gutterBottom>
                  <span className="method-badge method-post">POST</span>
                  /api/v1/query
                </Typography>
                <Typography paragraph>
                  Execute a custom query on the knowledge graph:
                </Typography>
                <div className="code-block">
                  POST /api/v1/query
                  Authorization: Bearer YOUR_API_KEY
                  Content-Type: application/json

                  {
                    "query": "MATCH (n:concept) WHERE n.name CONTAINS 'AI' RETURN n",
                    "parameters": {}
                  }
                </div>
              </div>

              <div className="endpoint-card">
                <Typography variant="h6" gutterBottom>
                  <span className="method-badge method-post">POST</span>
                  /api/v1/query/explain
                </Typography>
                <Typography paragraph>
                  Get query execution plan and performance metrics:
                </Typography>
                <div className="code-block">
                  POST /api/v1/query/explain
                  Authorization: Bearer YOUR_API_KEY
                  Content-Type: application/json

                  {
                    "query": "MATCH (n:concept) WHERE n.name CONTAINS 'AI' RETURN n"
                  }
                </div>
              </div>
            </div>

            <div className="section">
              <Typography variant="h5" gutterBottom>
                Rate Limits & Best Practices
              </Typography>
              
              <div className="endpoint-card">
                <Typography variant="h6" gutterBottom>
                  <Icon sx={{ mr: 1 }}>{ICONS.INFO}</Icon>
                  Rate Limits
                </Typography>
                <Typography paragraph>
                  API usage is subject to the following limits:
                </Typography>
                <List>
                  <ListItem>
                    <ListItemIcon>
                      <Icon>{ICONS.CHECK}</Icon>
                    </ListItemIcon>
                    <ListItemText 
                      primary="Standard Tier"
                      secondary="100 requests per minute"
                    />
                  </ListItem>
                  <ListItem>
                    <ListItemIcon>
                      <Icon>{ICONS.INFO}</Icon>
                    </ListItemIcon>
                    <ListItemText 
                      primary="Enterprise Tier"
                      secondary="1000 requests per minute"
                    />
                  </ListItem>
                  <ListItem>
                    <ListItemIcon>
                      <Icon>{ICONS.SECURITY}</Icon>
                    </ListItemIcon>
                    <ListItemText 
                      primary="Rate Limit Headers"
                      secondary="X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset"
                    />
                  </ListItem>
                </List>
              </div>

              <div className="endpoint-card">
                <Typography variant="h6" gutterBottom>
                  <Icon sx={{ mr: 1 }}>{ICONS.CHECK}</Icon>
                  Best Practices
                </Typography>
                <Typography paragraph>
                  Follow these guidelines for optimal API usage:
                </Typography>
                <List>
                  <ListItem>
                    <ListItemIcon>
                      <Icon>{ICONS.CHECK}</Icon>
                    </ListItemIcon>
                    <ListItemText 
                      primary="Caching"
                      secondary="Cache responses when possible"
                    />
                  </ListItem>
                  <ListItem>
                    <ListItemIcon>
                      <Icon>{ICONS.INFO}</Icon>
                    </ListItemIcon>
                    <ListItemText 
                      primary="Batch Operations"
                      secondary="Use batch endpoints for multiple operations"
                    />
                  </ListItem>
                  <ListItem>
                    <ListItemIcon>
                      <Icon>{ICONS.SECURITY}</Icon>
                    </ListItemIcon>
                    <ListItemText 
                      primary="Error Handling"
                      secondary="Implement proper error handling and retries"
                    />
                  </ListItem>
                </List>
              </div>
            </div>

            <Box sx={{ mt: 4, textAlign: 'center' }}>
              <Button
                variant="contained"
                color="primary"
                size="large"
                href="../interactive-demos/index.html"
                startIcon={<Icon>{ICONS.PLAY}</Icon>}
              >
                Try Interactive API Examples
              </Button>
            </Box>
          </Container>
        </Box>
      );
    }

    ReactDOM.render(<APIReference />, document.getElementById('root'));
  </script>
</body>
</html> 